# 🧬 BioTutor-AI：臺灣高中生物圖文解題輔助系統
![status](https://img.shields.io/badge/status-in%20progress-yellow)
> ⚠️ 本專案仍在建構與優化中，目前內容持續更新中。

BioTutor-AI 是一個結合語言模型（LLM）、電腦視覺與光學文字辨識技術的高中生物輔助解題系統，專為臺灣 108 課綱設計。  
使用者可透過網頁介面上傳圖片與文字，系統將自動辨識題目內容，並給出符合教學語言風格的解析、名詞說明與答題建議。

---

## 📌 專案目標

- 利用指令微調（Instruction Tuning）技術，訓練一個具備解釋與教學能力的語言模型
- 融合 YOLOv11 與 PaddleOCR 技術，實現高中考題圖文辨識與結構化解析
- 建置以 Django 為前端框架的互動式網頁，提供學生與教師實用的解題輔助平台

---

## 🧠 技術架構

### 🔷 資料集建構
- **資料來源**：
  - 使用 GPT 自動生成教學風格說明（Self-Instruct）
  - 整合本人編撰之生物題目與詳解內容
- **格式**：
  - 單行 JSONL，每筆資料包含 instruction / category / input / output 欄位
- **應用任務類型**：
  - 簡介專有名詞
  - 詳細解釋名詞
  - 比較相關概念
  - 提供解題策略

---

### 🔷 模型微調

- 本專案使用的語言模型基於 Hugging Face 上的開源模型：
   [`yentinglin/Llama-3-Taiwan-8B-Instruct`](https://huggingface.co/yentinglin/Llama-3-Taiwan-8B-Instruct)
   此模型為 LLaMA 3 架構下，經指令微調以支援繁體中文任務的 Instruct 模型，適合應用於臺灣在地教學語境。
- 微調方法：LoRA + PEFT（記憶體最佳化）
- 訓練目標：以臺灣高中生物課程內容建構資料集，採用 LoRA + PEFT 技術進行微調，使模型具備解釋生物名詞、圖文題目分析與生成教學語氣答題解析的能力。

---

### 🔷 題目結構化處理模組

| 模組 | 技術 | 說明 |
|------|------|------|
| 📦 題目圖像區塊偵測 | YOLOv11 | 辨識題幹、選項、圖表等區塊 |
| 🔤 光學文字辨識 | PaddleOCR | 擷取文字資訊，支援繁體中文 |
| 🧠 解題生成模型 | LLaMA-3 | 輸出解題分析、名詞說明與答題建議 |
| 🌐 前端介面 | Django | 提供上傳、分析與回應結果展示功能 |

---

## ✅ 目前進度與成果(2025/04/01)

- ✅ 建立資料集格式與結構，完成初步資料標註與整理（共 900+ 筆）
- ✅ 成功訓練 YOLO 模型以切割整張題目卷，能自動辨識並標記各題目區塊，包含題幹、選項與圖表等欄位，作為後續結構化處理的基礎
- ✅ 設計並實作 LoRA 微調流程，整合 Hugging Face 模型與 PEFT 技術
- ✅ 撰寫模型評估腳本，可計算分類準確率、F1 分數等指標
- ✅ 完成初步模型微調，使用生物名詞資料集進行訓練
- 📊 初步評估結果：  
  - 名詞分類任務準確率約 76%  
  - 類別差異比較任務 F1 約 0.75
- ✨ 模型可初步生成具教學語氣之名詞解釋與概念比較句子
- 🔄 持續優化中：一方面調整多輪對話生成策略，提升模型輸出的一致性與語意精準度；另一方面持續擴充與多樣化訓練資料集

---
## 📌 問題與調整方向(2025/04/01)
- 📉 嘗試使用 DPO（Direct Preference Optimization）訓練微調模型後，效果 未如預期提升，特別是在較長回答的表現上仍有不穩定或出現「幻覺」（hallucination）的情況。最終發現其訓練時間與資源消耗與效能提升不成比例，因此後續僅保留成果模型進行分析與比較，不再延續此路線。

- ✂️ 計劃 重新設計資料集格式，將原本的長篇回答切分為多個精確任務導向的 prompt，以 細粒度（fine-grained） 的方式重新訓練模型，以提升回答精確度與可控性。例如：

  - 「請解釋 XXX 的原理」

  - 「請舉出關於 XXX 的具體例子」

  - 「請說明 XXX 的生理功能」

📚 未來將加入 Retrieval-Augmented Generation（RAG） 架構，透過檢索輔助讓模型能參考中英文教材或知識庫，有效降低幻覺發生並提升答案正確率。

---

## 🚀 使用範例

使用者流程：

1. 上傳一張考題圖片（包含文字與圖表）
2. 系統執行 YOLO 檢測區塊 + OCR 文字擷取
3. 自動整理為結構化輸入，送入語言模型
4. 回傳名詞說明、圖表分析與答題建議

---

## 🗂️ 訓練資料格式範例（JSONL）(暫定)

```json
{"instruction": "簡介專有名詞", "input": "粒線體", "category": "bio", "output": "粒線體是細胞的器官之一，存在於大多數真核細胞中。它主要功能為產生大部分所需的細胞能量..."}
{"instruction": "詳細解釋名詞", "input": "生命現象", "category": "bio", "output": "**生命現象定義**：\n生命現象指的是生物體所展現的所有自然活動，這包括新陳代謝（體內物質..."}
{"instruction": "比較詞彙差異", "input": "「原核細胞」和「真核細胞」", "category": "bio", "response": "原核細胞無細胞核與膜狀胞器，遺傳物質直接位於細胞質中，代表為細菌..."}

```
---

## 🔧 主要套件與工具
1. Llama-3-Taiwan-8B-Instruct（Hugging Face）
2. YOLOv11（題目圖片識別）
2. PaddleOCR（文字辨識）
4. Django（前端框架）
5. LoRA / PEFT（高效微調方法）
6. OpenAI GPT（輔助資料集生成）

---

## 🧩 未來擴充方向

- **支援其他學科領域**  
  除了高中生物外，未來將擴充至自然科學其他領域（如化學、地科、物理），並可根據需求延伸至國中、小學或大學程度之教學內容。

- **提升知識廣度與深度**  
  回應內容將不僅限於基本概念說明，未來將納入更多延伸知識、歷屆考題整合、跨章節分析與進階答題策略。

- **學生作答理解與個人化建議**  
  未來可整合學生的實際作答內容，分析常見錯誤類型並生成個別化的學習回饋。

- **教師後台與題庫管理系統**  
  提供教師管理、上傳與標記題目的功能，並可統整學生的使用紀錄作為教學輔助依據。

